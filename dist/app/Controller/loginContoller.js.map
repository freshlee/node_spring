{"version":3,"sources":["../../../src/app/Controller/loginContoller.js"],"names":["GetMapping","Annocation","PostMapping","service","Sevice","LoginController","params","req","resoponse","Promise","resolve","now","Date","cookie","JSON","stringify","id","deadline","getTime","maxAge","httpOnly","success","message","user","username","nickName","phone","age","address","isMale","email","createTime","avatar","permissions","role","list","name","zhName","icon","route","BaseController"],"mappings":";;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACOA,U,GAA2BC,oB,CAA3BD,U;IAAYE,W,GAAeD,oB,CAAfC,W;;AACnB,IAAMC,UAAU,IAAIC,qBAAJ,EAAhB;IACqBC,e,WAIhBH,YAAY,aAAZ,C,UAeAF,WAAW,OAAX,C,UAuBAA,WAAW,SAAX,C;;;AAzCD,+BAAuB;AAAA;;AAAA;;AAAA,0CAARM,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,4JACVA,MADU;AAEtB;;;;6BAEKC,G,EAAKC,S,EAAW;AAClB,mBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5B,oBAAIC,MAAM,IAAIC,IAAJ,EAAV;AACAJ,0BAAUK,MAAV,CACI,OADJ,EAEIC,KAAKC,SAAL,CAAe,EAAEC,IAAI,QAAN,EAAgBC,UAAUN,IAAIO,OAAJ,EAA1B,EAAf,CAFJ,EAGI;AACEC,4BAAQ,MADV;AAEEC,8BAAU;AAFZ,iBAHJ;AAQAV,wBAAQ,EAAEW,SAAS,IAAX,EAAiBC,SAAS,IAA1B,EAAR;AACH,aAXM,CAAP;AAYH;;;iCAESf,G,EAAK;AACX,mBAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BA,wBAAQ;AACJW,6BAAS,IADL;AAEJE,0BAAM;AACFP,4BAAI,SADF;AAEFQ,kCAAU,KAFR;AAGFC,kCAAU,KAHR;AAIFC,+BAAO,WAJL;AAKFC,6BAAK,EALH;AAMFC,iCAAS,OANP;AAOFC,gCAAQ,IAPN;AAQFC,+BAAO,iBARL;AASFC,oCAAY,YATV;AAUFC,gCAAQ,EAVN;AAWFC,qCAAa;AACTC,kCAAM;AADG;AAXX;AAFF,iBAAR;AAkBH,aAnBM,CAAP;AAoBH;;;iCAES3B,G,EAAK;AACX,mBAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BA,wBAAQ;AACJW,6BAAS,IADL;AAEJc,0BAAM,CACF;AACEnB,4BAAI,IADN;AAEEoB,8BAAM,UAFR;AAGEC,gCAAQ,UAHV;AAIEC,8BAAM,MAJR;AAKEC,+BAAO;AALT,qBADE;AAFF,iBAAR;AAYH,aAbM,CAAP;AAcH;;;;EA1DwCC,wB;kBAAxBnC,e","file":"loginContoller.js","sourcesContent":["import express from 'express'\r\nimport bodyParser from 'body-parser'\r\nimport Sevice from '../Service/UserService'\r\nimport Annocation from '../Annocation'\r\nimport BaseController from './BaseController'\r\nconst {GetMapping, PostMapping} = Annocation\r\nconst service = new Sevice()\r\nexport default class LoginController extends BaseController {\r\n    constructor(...params) {\r\n        super(...params)\r\n    }\r\n    @PostMapping('/user/login')\r\n    init (req, resoponse) {\r\n        return new Promise((resolve) => {\r\n            let now = new Date()\r\n            resoponse.cookie(\r\n                'token',\r\n                JSON.stringify({ id: '213123', deadline: now.getTime() }),\r\n                {\r\n                  maxAge: 900000,\r\n                  httpOnly: true,\r\n                }\r\n              )\r\n            resolve({ success: true, message: 'Ok' })\r\n        })\r\n    }\r\n    @GetMapping('/user')\r\n    userInfo (req) {\r\n        return new Promise((resolve) => {\r\n            resolve({\r\n                success: true,\r\n                user: {\r\n                    id: '2435345',\r\n                    username: 'lee',\r\n                    nickName: 'lee',\r\n                    phone: 15728468116,\r\n                    age: 27,\r\n                    address: 'china',\r\n                    isMale: true,\r\n                    email: 'aasdasdas@email',\r\n                    createTime: '2019-01-19',\r\n                    avatar: '',\r\n                    permissions: {\r\n                        role: 'admin'\r\n                    }\r\n                }\r\n            })\r\n        })\r\n    }\r\n    @GetMapping('/routes')\r\n    getRoute (req) {\r\n        return new Promise((resolve) => {\r\n            resolve({\r\n                success: true,\r\n                list: [\r\n                    {\r\n                      id: '45',\r\n                      name: 'overTime',\r\n                      zhName: 'overTime',\r\n                      icon: 'edit',\r\n                      route: '/overTime',\r\n                    }\r\n                ]\r\n            })\r\n        })\r\n    }\r\n}"]}